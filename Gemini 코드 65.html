<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ìƒ ì‹¤í—˜: ì¢…ì´ vs ì•Œë£¨ë¯¸ëŠ„ ì—´íŒ½ì°½ ë¹„êµ</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f5f5f5;
            --text-color: #333;
            --alu-color: #bdc3c7;
            --paper-color: #ffffff;
            --fire-color: #e74c3c;
        }
        body {
            font-family: 'Malgun Gothic', 'Noto Sans KR', sans-serif;
            background-color: #f0f4f8;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 25px;
            box-sizing: border-box;
        }
        h1 {
            color: var(--primary-color);
            text-align: center;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }
        .intro-box {
            background-color: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 5px solid var(--primary-color);
        }
        .experiment-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background-color: #fafafa;
            border-radius: 10px;
            border: 1px solid #ddd;
        }
        canvas {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
        }
        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }
        .btn-heat {
            background-color: var(--fire-color);
            color: white;
        }
        .btn-heat:hover { background-color: #c0392b; }
        .btn-heat:disabled { background-color: #ccc; cursor: not-allowed; }
        
        .btn-reset {
            background-color: var(--primary-color);
            color: white;
        }
        .btn-reset:hover { background-color: #357abd; }

        .status-panel {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 10px;
            font-size: 1.1em;
            font-weight: bold;
            background: #fff;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #eee;
        }
        .temp-display { color: var(--fire-color); }
        
        .observation-log {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #eee;
            width: 100%;
        }
        .quiz-section {
            margin-top: 30px;
            border-top: 2px dashed #ccc;
            padding-top: 20px;
        }
        .quiz-options label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            background: #f5f5f5;
        }
        .quiz-options label:hover { background: #e0e0e0; }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        .feedback.correct { background-color: #d4edda; color: #155724; }
        .feedback.wrong { background-color: #f8d7da; color: #721c24; }
        
        .warning {
            color: red;
            font-weight: bold;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
        }
        
        /* Tooltip style labels on canvas */
        .label-overlay {
            position: absolute;
            background: rgba(255,255,255,0.8);
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 12px;
            pointer-events: none;
        }

    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ”¥ ì‹¤í—˜ 2: ì¢…ì´ì™€ ì•Œë£¨ë¯¸ëŠ„, ëˆ„ê°€ ë” ì˜ ëŠ˜ì–´ë‚ ê¹Œ?</h1>
    
    <div class="intro-box">
        <h3>ğŸ’¡ ì‹¤í—˜ ëª©í‘œ</h3>
        <p>ì¢…ì´ì™€ ì•Œë£¨ë¯¸ëŠ„ í¬ì¼ì„ ë¶™ì—¬ì„œ ê°€ì—´í–ˆì„ ë•Œ íœ˜ì–´ì§€ëŠ” ë°©í–¥ì„ ê´€ì°°í•˜ê³ , <strong>ë¬¼ì§ˆì— ë”°ë¼ ì—´íŒ½ì°½ ì •ë„ê°€ ë‹¤ë¦„</strong>ì„ ì´í•´í•©ë‹ˆë‹¤.</p>
        <p><strong>ì¤€ë¹„ë¬¼:</strong> ì•Œë£¨ë¯¸ëŠ„ í¬ì¼, ì¢…ì´, í’€, ê°€ì—´ ì¥ì¹˜(ê°€ìƒ)</p>
    </div>

    <div class="experiment-area" style="position: relative;">
        <canvas id="simCanvas" width="600" height="400"></canvas>
        <div id="labels"></div>
        
        <div class="status-panel">
            <span>ğŸŒ¡ï¸ í˜„ì¬ ì˜¨ë„: <span id="tempValue" class="temp-display">20</span>Â°C</span>
            <span>ìƒíƒœ: <span id="statusText">ì‹¤í—˜ ì¤€ë¹„ ì™„ë£Œ</span></span>
        </div>

        <div class="warning" id="safetyWarning">âš ï¸ ì£¼ì˜: ì˜¨ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ì ˆëŒ€ ì†ëŒ€ì§€ ë§ˆì„¸ìš”!</div>

        <div class="controls">
            <button class="btn-heat" id="heatBtn" onmousedown="startHeating()" onmouseup="stopHeating()" onmouseleave="stopHeating()" ontouchstart="startHeating()" ontouchend="stopHeating()">ğŸ”¥ ê°€ì—´í•˜ê¸° (ëˆ„ë¥´ê³  ìˆìœ¼ì„¸ìš”)</button>
            <button class="btn-reset" onclick="resetExperiment()">ğŸ”„ ì²˜ìŒ ìƒíƒœë¡œ ì‹íˆê¸°</button>
        </div>
    </div>

    <div class="observation-log">
        <h3>ğŸ‘€ ê´€ì°° ê¸°ë¡ì¥</h3>
        <p id="observationText">ê°€ì—´ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹¤í—˜ì„ ì‹œì‘í•´ë³´ì„¸ìš”. (ë‘ ë¬¼ì§ˆì€ í’€ë¡œ ë‹¨ë‹¨íˆ ë¶™ì–´ ìˆìŠµë‹ˆë‹¤)</p>
    </div>

    <div class="quiz-section">
        <h3>ğŸ“ ê°œë… í™•ì¸ í€´ì¦ˆ</h3>
        <p><strong>ì§ˆë¬¸:</strong> ì‹¤í—˜ ê²°ê³¼, ì´ì¸µë§‰ì´ ì¢…ì´ ìª½ìœ¼ë¡œ íœ˜ì–´ì§„ ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?</p>
        <div class="quiz-options">
            <label><input type="radio" name="quiz" value="1"> ì¢…ì´ê°€ ì•Œë£¨ë¯¸ëŠ„ë³´ë‹¤ ì—´íŒ½ì°½ì„ ë” ë§ì´ í–ˆê¸° ë•Œë¬¸ì´ë‹¤.</label>
            <label><input type="radio" name="quiz" value="2"> ì•Œë£¨ë¯¸ëŠ„ì´ ì¢…ì´ë³´ë‹¤ ì—´íŒ½ì°½ì„ ë” ë§ì´ í•˜ì—¬ ê¸¸ì–´ì¡Œê¸° ë•Œë¬¸ì´ë‹¤.</label>
            <label><input type="radio" name="quiz" value="3"> ì¢…ì´ê°€ ì—´ì„ ë°›ì•„ ë¬´ê±°ì›Œì¡Œê¸° ë•Œë¬¸ì´ë‹¤.</label>
        </div>
        <button onclick="checkAnswer()" style="margin-top:10px; background:#333; color:white;">ì •ë‹µ í™•ì¸</button>
        <div id="quizFeedback" class="feedback"></div>
    </div>
</div>

<script>
    const canvas = document.getElementById('simCanvas');
    const ctx = canvas.getContext('2d');
    const tempValue = document.getElementById('tempValue');
    const statusText = document.getElementById('statusText');
    const observationText = document.getElementById('observationText');
    const safetyWarning = document.getElementById('safetyWarning');

    let temperature = 20; // Initial temp in Celsius
    let isHeating = false;
    let animationId;
    
    // Simulation Constants
    const MAX_TEMP = 150; // Max temp to prevent "burning" paper conceptually
    const MIN_TEMP = 20;
    const STRIP_WIDTH = 40;
    const STRIP_HEIGHT = 200;
    const CENTER_X = canvas.width / 2;
    const CENTER_Y = 50;
    
    // Expansion Coefficients (scaled for visual effect)
    // Aluminum expands significantly more than Paper
    const ALU_EXPANSION_RATE = 0.005; 
    const PAPER_EXPANSION_RATE = 0.0005; 

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw Stand/Clamp
        ctx.fillStyle = "#555";
        ctx.fillRect(CENTER_X - 60, 10, 120, 20); // Top bar
        ctx.fillRect(CENTER_X - 10, 10, 20, 40);  // Hanger

        // Calculate Expansion & Bending
        const deltaT = temperature - 20;
        
        // Aluminum (Left side), Paper (Right side)
        // If Al expands more, it pushes towards the Right (Paper side becomes concave)
        // Curvature calculation (simplified for visual)
        // Bend factor: Positive means bending right (Alu on outside)
        const expansionDiff = (ALU_EXPANSION_RATE * deltaT) - (PAPER_EXPANSION_RATE * deltaT);
        const bendFactor = expansionDiff * 10; // Scale for visual

        // Draw the Strip
        ctx.save();
        ctx.translate(CENTER_X, CENTER_Y);

        // We draw the strip as a quadratic curve or series of segments
        // Left Half: Aluminum (Silver)
        // Right Half: Paper (White)
        
        const segments = 20;
        const segHeight = STRIP_HEIGHT / segments;

        for (let i = 0; i < segments; i++) {
            // Calculate x-offset based on bend factor and depth (y)
            // Curvature formula approximation: x = k * y^2
            const y = i * segHeight;
            const xShift = bendFactor * (y * y) / 5000; 
            
            // Rotation for smoothness
            const angle = Math.atan((2 * bendFactor * y) / 5000);

            ctx.save();
            ctx.translate(xShift, y);
            ctx.rotate(angle);

            // Draw Aluminum (Left)
            ctx.fillStyle = "#bdc3c7"; // Silver
            ctx.fillRect(-STRIP_WIDTH/2, 0, STRIP_WIDTH/2, segHeight + 1);
            // Add marks to show stretching
            ctx.strokeStyle = "#95a5a6";
            ctx.beginPath();
            ctx.moveTo(-STRIP_WIDTH/2, 0);
            ctx.lineTo(0, 0);
            ctx.stroke();

            // Draw Paper (Right)
            ctx.fillStyle = "#ffffff"; // White
            ctx.fillRect(0, 0, STRIP_WIDTH/2, segHeight + 1);
            ctx.strokeStyle = "#ecf0f1"; // Faint border
            ctx.strokeRect(0, 0, STRIP_WIDTH/2, segHeight + 1);

            ctx.restore();
        }

        // Labels inside canvas logic (simple text)
        ctx.font = "12px sans-serif";
        ctx.fillStyle = "#333";
        // Calculate tip position for labels
        const tipY = STRIP_HEIGHT;
        const tipX = bendFactor * (tipY * tipY) / 5000;
        
        if (temperature < 30) {
            ctx.fillText("ì•Œë£¨ë¯¸ëŠ„", -45, 100);
            ctx.fillText("ì¢…ì´", 15, 100);
        }

        ctx.restore();

        // Draw Heater/Flame
        if (isHeating) {
            drawFlame(CENTER_X, 320);
        } else {
            // Draw unlit burner
            ctx.fillStyle = "#555";
            ctx.fillRect(CENTER_X - 25, 330, 50, 40);
            ctx.fillStyle = "#777";
            ctx.fillRect(CENTER_X - 30, 370, 60, 10);
        }
    }

    function drawFlame(x, y) {
        // Simple flame animation flicker
        const flicker = Math.random() * 5;
        const h = 60 + Math.random() * 10;
        
        ctx.beginPath();
        ctx.moveTo(x - 15, y + 40);
        ctx.quadraticCurveTo(x, y - h, x + 15, y + 40);
        ctx.fillStyle = `rgba(231, 76, 60, ${0.7 + Math.random()*0.3})`;
        ctx.fill();
        
        // Inner flame
        ctx.beginPath();
        ctx.moveTo(x - 8, y + 40);
        ctx.quadraticCurveTo(x, y - h/1.5, x + 8, y + 40);
        ctx.fillStyle = "#f1c40f";
        ctx.fill();
    }

    function update() {
        if (isHeating && temperature < MAX_TEMP) {
            temperature += 0.5;
        } else if (!isHeating && temperature > MIN_TEMP) {
            temperature -= 0.8; // Cools down faster naturally
        }

        // Update UI
        tempValue.innerText = Math.floor(temperature);
        
        // Safety Warning
        if (temperature > 60) {
            safetyWarning.style.display = "block";
        } else {
            safetyWarning.style.display = "none";
        }

        // Status Text & Observation
        if (temperature < 30) {
            statusText.innerText = "ìƒì˜¨ (ë³€í™” ì—†ìŒ)";
            observationText.innerText = "í˜„ì¬ ë‘ ë¬¼ì§ˆì˜ ê¸¸ì´ê°€ ë¹„ìŠ·í•˜ì—¬ ì¼ìë¡œ í´ì ¸ ìˆìŠµë‹ˆë‹¤.";
        } else if (temperature < 80) {
            statusText.innerText = "ê°€ì—´ ì¤‘ (íŒ½ì°½ ì‹œì‘)";
            observationText.innerText = "ì˜¨ë„ê°€ ì˜¬ë¼ê°€ë©´ì„œ ì´ì¸µë§‰ì´ ì„œì„œíˆ íœ˜ì–´ì§€ê¸° ì‹œì‘í•©ë‹ˆë‹¤. ì–´ëŠ ìª½ìœ¼ë¡œ íœ˜ì–´ì§€ë‚˜ìš”?";
        } else {
            statusText.innerText = "ê³ ì˜¨ (ìƒë‹¹íˆ íœ˜ì–´ì§)";
            observationText.innerHTML = "<strong>ì•Œë£¨ë¯¸ëŠ„(íšŒìƒ‰)</strong>ì´ <strong>ì¢…ì´(í°ìƒ‰)</strong>ë³´ë‹¤ ë” ë§ì´ ëŠ˜ì–´ë‚˜ì„œ,<br>ê¸¸ì´ê°€ ê¸´ ì•Œë£¨ë¯¸ëŠ„ì´ ë°”ê¹¥ìª½ì´ ë˜ë„ë¡(ì¢…ì´ ìª½ìœ¼ë¡œ) íœ˜ì–´ì¡ŒìŠµë‹ˆë‹¤!";
        }

        draw();
        animationId = requestAnimationFrame(update);
    }

    function startHeating() {
        isHeating = true;
    }

    function stopHeating() {
        isHeating = false;
    }

    function resetExperiment() {
        isHeating = false;
        // Fast cool down for UX
        const coolDownInterval = setInterval(() => {
            if(temperature > 20) {
                temperature -= 2;
                draw(); // Force redraw needed if animation loop paused, but loop is running
            } else {
                temperature = 20;
                clearInterval(coolDownInterval);
            }
        }, 10);
        
        // Reset quiz feedback
        document.getElementById('quizFeedback').style.display = 'none';
        const radios = document.getElementsByName('quiz');
        for(let i=0; i<radios.length; i++) radios[i].checked = false;
    }

    function checkAnswer() {
        const radios = document.getElementsByName('quiz');
        let val = null;
        for(let i=0; i<radios.length; i++){
            if(radios[i].checked) val = radios[i].value;
        }
        
        const feedback = document.getElementById('quizFeedback');
        feedback.style.display = 'block';
        
        if(val === "2") {
            feedback.className = "feedback correct";
            feedback.innerHTML = "âœ… ì •ë‹µì…ë‹ˆë‹¤! ì•Œë£¨ë¯¸ëŠ„ì˜ ì—´íŒ½ì°½ ì •ë„ê°€ ì¢…ì´ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì—, ë” ë§ì´ ëŠ˜ì–´ë‚œ ì•Œë£¨ë¯¸ëŠ„ì´ ë°”ê¹¥ìª½ ê³¡ì„ ì„ ê·¸ë¦¬ê²Œ ë©ë‹ˆë‹¤.";
        } else if (val === "1") {
            feedback.className = "feedback wrong";
            feedback.innerHTML = "âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”. ë§Œì•½ ì¢…ì´ê°€ ë” ë§ì´ ëŠ˜ì–´ë‚¬ë‹¤ë©´ ì¢…ì´ê°€ ë°”ê¹¥ìª½(ì•Œë£¨ë¯¸ëŠ„ ìª½)ìœ¼ë¡œ íœ˜ì–´ì¡Œì„ ê²ƒì…ë‹ˆë‹¤.";
        } else {
            feedback.className = "feedback wrong";
            feedback.innerHTML = "âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì—´íŒ½ì°½ì€ ë¬´ê²Œê°€ ì•„ë‹ˆë¼ 'ê¸¸ì´ì™€ ë¶€í”¼ì˜ ë³€í™”'ì™€ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.";
        }
    }

    // Start the loop
    update();

</script>

</body>
</html>