<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ìƒ ì‹¤í—˜ì‹¤: ë¬¼ì§ˆì˜ íŠ¹ì„±ìœ¼ë¡œ êµ¬ë³„í•˜ê¸°</title>
    <style>
        :root {
            --primary: #4A90E2;
            --secondary: #50E3C2;
            --danger: #FF6B6B;
            --text: #333;
            --bg: #F5F7FA;
            --card-bg: #FFFFFF;
        }
        body {
            font-family: 'Pretendard', 'Malgun Gothic', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        header {
            background: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
        }
        header h1 { margin: 0; font-size: 1.5rem; }
        header p { margin: 5px 0 0; opacity: 0.9; font-size: 0.9rem; }

        .lab-bench {
            position: relative;
            height: 400px;
            background: #e0e0e0;
            border-bottom: 10px solid #a0a0a0;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 20px;
            overflow: hidden;
        }

        /* ì‹¤í—˜ ë„êµ¬ ìŠ¤íƒ€ì¼ */
        .beaker {
            width: 80px;
            height: 100px;
            border: 2px solid #888;
            border-top: none;
            background: rgba(255,255,255,0.4);
            border-radius: 0 0 10px 10px;
            margin: 0 40px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }
        .liquid {
            width: 100%;
            height: 60%;
            background: rgba(100, 200, 255, 0.3);
            border-radius: 0 0 8px 8px;
            position: relative;
            transition: height 1s;
        }
        .liquid.boiling::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0; right: 0; top: 0;
            background-image: radial-gradient(white 20%, transparent 20%);
            background-size: 10px 10px;
            animation: bubbles 0.5s infinite linear;
            opacity: 0.7;
        }
        @keyframes bubbles {
            0% { transform: translateY(0); }
            100% { transform: translateY(-20px); }
        }
        
        .heater {
            width: 100px;
            height: 30px;
            background: #333;
            border-radius: 5px;
            position: absolute;
            bottom: -10px;
            left: -10px;
            display: none;
        }
        .heater.on { background: #d32f2f; box-shadow: 0 0 15px #ff5252; }

        .thermometer {
            width: 6px;
            height: 120px;
            background: #fff;
            border: 1px solid #aaa;
            position: absolute;
            bottom: 10px;
            right: 5px;
            border-radius: 5px;
        }
        .mercury {
            width: 100%;
            height: 20%;
            background: red;
            position: absolute;
            bottom: 0;
            border-radius: 0 0 5px 5px;
            transition: height 0.5s;
        }

        .label {
            position: absolute;
            top: -30px;
            width: 100%;
            text-align: center;
            font-weight: bold;
        }

        /* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        .controls {
            padding: 20px;
            background: #fff;
            border-top: 1px solid #eee;
        }
        .btn-group { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: var(--primary);
            color: white;
            cursor: pointer;
            font-size: 1rem;
            transition: 0.3s;
        }
        button:hover { background: #357ABD; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        button.secondary { background: var(--secondary); color: #005f5f; }

        .data-panel {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        .data-box { text-align: center; }
        .data-value { font-size: 1.5rem; font-weight: bold; color: var(--primary); }

        .message-box {
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        .hidden { display: none; }

        /* ê·¸ë˜í”„ ì˜ì—­ (ê°„ë‹¨ ì‹œê°í™”) */
        .graph-container {
            width: 100%;
            height: 150px;
            border-left: 2px solid #333;
            border-bottom: 2px solid #333;
            position: relative;
            margin-top: 20px;
            display: none;
        }
        .graph-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 0;
            border-top: 2px solid;
            transition: width 0.2s, height 0.2s;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ§ª ë¬¼ì§ˆì˜ íŠ¹ì„±: ë²”ì¸ì€ ëˆ„êµ¬?</h1>
        <p>ì¤‘í•™êµ 2í•™ë…„ ê³¼í•™ VI. ë¬¼ì§ˆì˜ êµ¬ì„±</p>
    </header>

    <div class="controls">
        <div id="step1" class="message-box">
            <strong>ğŸ‘¨â€ğŸ« ì„ ìƒë‹˜:</strong> ì—¬ê¸° ê²‰ëª¨ìŠµì´ ë˜‘ê°™ì€ ë‘ ì•¡ì²´ Aì™€ Bê°€ ìˆìŠµë‹ˆë‹¤. í•˜ë‚˜ëŠ” <strong>ë¬¼</strong>ì´ê³ , í•˜ë‚˜ëŠ” <strong>ì—íƒ„ì˜¬</strong>ì…ë‹ˆë‹¤.<br>
            ëƒ„ìƒˆë¥¼ ë§¡ê±°ë‚˜ ë§›ì„ ë³´ëŠ” ê²ƒì€ ìœ„í—˜í•©ë‹ˆë‹¤! <strong>ë“ëŠ”ì  ì‹¤í—˜</strong>ì„ í†µí•´ êµ¬ë³„í•´ë³¼ê¹Œìš”?
        </div>
        
        <div class="btn-group">
            <button id="btnStart" onclick="startExperiment()">ì‹¤í—˜ ì‹œì‘í•˜ê¸° (ê°€ì—´)</button>
            <button id="btnReset" onclick="resetExperiment()" class="secondary" style="display:none">ë‹¤ì‹œ í•˜ê¸°</button>
        </div>

        <div id="statusPanel" class="data-panel hidden">
            <div class="data-box">
                <div>ì•¡ì²´ A ì˜¨ë„</div>
                <div id="tempA" class="data-value">20Â°C</div>
                <div id="stateA" style="font-size:0.8rem; color:#666;">ì•¡ì²´ ìƒíƒœ</div>
            </div>
            <div class="data-box">
                <div>ì‹œê°„</div>
                <div id="timer" class="data-value">0ë¶„</div>
            </div>
            <div class="data-box">
                <div>ì•¡ì²´ B ì˜¨ë„</div>
                <div id="tempB" class="data-value">20Â°C</div>
                <div id="stateB" style="font-size:0.8rem; color:#666;">ì•¡ì²´ ìƒíƒœ</div>
            </div>
        </div>
        
        <div id="resultSection" class="message-box hidden" style="background-color: #e8f5e9; border: 1px solid #c8e6c9;">
            <strong>ğŸ“Š ê²°ê³¼ ë¶„ì„:</strong><br>
            ì•¡ì²´ AëŠ” ì•½ <strong>78Â°C</strong>ì—ì„œ ë“ê¸° ì‹œì‘í–ˆê³ , ì•¡ì²´ BëŠ” <strong>100Â°C</strong>ì—ì„œ ë“ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.<br>
            ì, ì´ì œ ì •ë‹µì„ ë§í˜€ë³¼ê¹Œìš”?
            <div style="margin-top:10px;">
                <button onclick="checkAnswer('A')">Aê°€ ì—íƒ„ì˜¬ì´ë‹¤</button>
                <button onclick="checkAnswer('B')">Bê°€ ì—íƒ„ì˜¬ì´ë‹¤</button>
            </div>
        </div>
    </div>

    <div class="lab-bench">
        <div class="beaker">
            <div class="label">A</div>
            <div class="liquid" id="liquidA"></div>
            <div class="heater" id="heaterA"></div>
            <div class="thermometer"><div class="mercury" id="mercuryA"></div></div>
        </div>

        <div class="beaker">
            <div class="label">B</div>
            <div class="liquid" id="liquidB"></div>
            <div class="heater" id="heaterB"></div>
            <div class="thermometer"><div class="mercury" id="mercuryB"></div></div>
        </div>
    </div>
</div>

<script>
    // ìƒíƒœ ë³€ìˆ˜
    let time = 0;
    let tempA = 20;
    let tempB = 20;
    let interval;
    const MAX_TIME = 20; // ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„ ë‹¨ìœ„

    function startExperiment() {
        document.getElementById('btnStart').style.display = 'none';
        document.getElementById('btnReset').style.display = 'inline-block';
        document.getElementById('statusPanel').classList.remove('hidden');
        
        // íˆí„° ì¼œê¸° ì‹œê°í™”
        document.getElementById('heaterA').style.display = 'block';
        document.getElementById('heaterA').classList.add('on');
        document.getElementById('heaterB').style.display = 'block';
        document.getElementById('heaterB').classList.add('on');

        interval = setInterval(updateExperiment, 500); // 0.5ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸
    }

    function updateExperiment() {
        time += 1;
        document.getElementById('timer').innerText = time + "ë¶„ ê²½ê³¼";

        // ê°€ìƒ ë¬¼ë¦¬ ì—”ì§„: ì˜¨ë„ ìƒìŠ¹ ë¡œì§
        // A: ì—íƒ„ì˜¬ (ë“ëŠ”ì  78ë„)
        if (tempA < 78) {
            tempA += 5; // ê°€ì—´ ì¤‘
        } else {
            tempA = 78 + (Math.random() * 1); // ë“ëŠ”ì  ìœ ì§€ (ì•½ê°„ì˜ í”ë“¤ë¦¼)
            document.getElementById('liquidA').classList.add('boiling');
            document.getElementById('stateA').innerText = "ë“ëŠ” ì¤‘ (ê¸°í™”)";
            document.getElementById('stateA').style.color = "red";
        }

        // B: ë¬¼ (ë“ëŠ”ì  100ë„)
        if (tempB < 100) {
            tempB += 4; // ë¬¼ì€ ë¹„ì—´ì´ ì»¤ì„œ ì²œì²œíˆ ì˜¤ë¦„ (ê°„ë‹¨ êµ¬í˜„)
        } else {
            tempB = 100 + (Math.random() * 1);
            document.getElementById('liquidB').classList.add('boiling');
            document.getElementById('stateB').innerText = "ë“ëŠ” ì¤‘ (ê¸°í™”)";
            document.getElementById('stateB').style.color = "red";
        }

        // UI ì—…ë°ì´íŠ¸
        updateUI();

        // ì‹¤í—˜ ì¢…ë£Œ ì¡°ê±´
        if (time >= 18) {
            clearInterval(interval);
            document.getElementById('heaterA').classList.remove('on');
            document.getElementById('heaterB').classList.remove('on');
            document.getElementById('resultSection').classList.remove('hidden');
        }
    }

    function updateUI() {
        document.getElementById('tempA').innerText = Math.round(tempA) + "Â°C";
        document.getElementById('tempB').innerText = Math.round(tempB) + "Â°C";

        // ì˜¨ë„ê³„ ë†’ì´ (20ë„~120ë„ ê¸°ì¤€ ë§¤í•‘)
        let heightA = ((tempA - 20) / 100) * 80 + 20; 
        let heightB = ((tempB - 20) / 100) * 80 + 20;
        
        document.getElementById('mercuryA').style.height = heightA + "%";
        document.getElementById('mercuryB').style.height = heightB + "%";
    }

    function checkAnswer(choice) {
        if (choice === 'A') {
            alert("âœ… ì •ë‹µì…ë‹ˆë‹¤!\n\nì—íƒ„ì˜¬ì€ ë¬¼ë³´ë‹¤ ë¶„ì ê°„ ì¸ë ¥ì´ ì•½í•´ ë“ëŠ”ì ì´ 78â„ƒë¡œ ë” ë‚®ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¨¼ì € ë“ê¸° ì‹œì‘í•œ Aê°€ ì—íƒ„ì˜¬ì…ë‹ˆë‹¤.");
        } else {
            alert("âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”.\n\nì—íƒ„ì˜¬(78â„ƒ)ì´ ë¬¼(100â„ƒ)ë³´ë‹¤ ë“ëŠ”ì ì´ ë‚®ìŠµë‹ˆë‹¤. ì˜¨ë„ê°€ ë” ë‚®ì€ ìƒíƒœì—ì„œ ë¨¼ì € ë“ê¸° ì‹œì‘í•œ ìª½ì„ ì°¾ì•„ë³´ì„¸ìš”!");
        }
    }

    function resetExperiment() {
        clearInterval(interval);
        time = 0;
        tempA = 20;
        tempB = 20;
        
        document.getElementById('btnStart').style.display = 'inline-block';
        document.getElementById('btnReset').style.display = 'none';
        document.getElementById('statusPanel').classList.add('hidden');
        document.getElementById('resultSection').classList.add('hidden');
        
        document.getElementById('heaterA').style.display = 'none';
        document.getElementById('heaterB').style.display = 'none';
        document.getElementById('liquidA').classList.remove('boiling');
        document.getElementById('liquidB').classList.remove('boiling');
        
        document.getElementById('stateA').innerText = "ì•¡ì²´ ìƒíƒœ";
        document.getElementById('stateA').style.color = "#666";
        document.getElementById('stateB').innerText = "ì•¡ì²´ ìƒíƒœ";
        document.getElementById('stateB').style.color = "#666";
        
        updateUI();
    }
</script>

</body>
</html>