<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìº í•‘ ì¥ë¹„ ì† ê³¼í•™ íƒí—˜</title>
    <style>
        :root {
            --primary-color: #2c7744; /* ìˆ² ìƒ‰ìƒ */
            --secondary-color: #d35400; /* ë¶ˆ ìƒ‰ìƒ */
            --bg-color: #e8f5e9;
            --text-color: #333;
        }

        body {
            font-family: 'Gamja Flower', 'Malgun Gothic', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            margin-bottom: 30px;
            color: #555;
            max-width: 600px;
        }

        /* ë©”ì¸ ìº í•‘ì¥ ë§µ */
        .campsite-container {
            position: relative;
            width: 800px;
            height: 500px;
            background: linear-gradient(to bottom, #87CEEB 0%, #e0f7fa 50%, #81c784 50%, #66bb6a 100%);
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            overflow: hidden;
            margin-bottom: 20px;
        }

        /* ì•„ì´í…œ ìŠ¤íƒ€ì¼ */
        .item {
            position: absolute;
            cursor: pointer;
            transition: transform 0.2s, filter 0.2s;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 2px black;
        }

        .item:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px yellow);
        }

        .item-icon {
            font-size: 60px;
            display: block;
        }

        .check-mark {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #27ae60;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: none; /* íƒêµ¬ ì™„ë£Œ ì‹œ block */
            align-items: center;
            justify-content: center;
            font-size: 16px;
            border: 2px solid white;
        }

        /* ì•„ì´í…œ ë°°ì¹˜ */
        #tent { bottom: 120px; left: 100px; }
        #fire { bottom: 80px; left: 350px; }
        #pot { bottom: 130px; left: 360px; }
        #thermos { bottom: 60px; right: 200px; }
        #sleeping-bag { bottom: 130px; left: 180px; }

        /* íŒì—… ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            width: 600px;
            max-width: 90%;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #aaa;
        }

        .science-visual {
            background-color: #f0f4c3;
            border: 2px dashed #afb42b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            text-align: center;
        }

        .question-box {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #1e5230;
        }

        .feedback {
            margin-top: 10px;
            font-weight: bold;
            display: none;
            padding: 10px;
            border-radius: 5px;
        }

        .feedback.success { background-color: #d4edda; color: #155724; }
        .feedback.hint { background-color: #fff3cd; color: #856404; }

        /* ì§„í–‰ ìƒí™© ë° ìµœì¢… ë¦¬í¬íŠ¸ */
        .progress-bar {
            width: 800px;
            height: 20px;
            background-color: #ddd;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 0.5s;
        }

        #final-report {
            display: none;
            width: 800px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .idea-lab {
            margin-top: 30px;
            border-top: 2px solid #eee;
            padding-top: 20px;
        }
    </style>
</head>
<body>

    <h1>ğŸ•ï¸ ìº í•‘ ì¥ë¹„ ì† ìˆ¨ì€ ê³¼í•™ ì°¾ê¸°</h1>
    <p class="subtitle">ìº í•‘ì¥ì— ìˆëŠ” ë¬¼ê±´ë“¤ì„ í´ë¦­í•˜ì—¬ ìˆ¨ê²¨ì§„ ì—´ì˜ ê³¼í•™ ì›ë¦¬ë¥¼ ì°¾ì•„ë‚´ê³ , ì—¬ëŸ¬ë¶„ë§Œì˜ ì•„ì´ë””ì–´ë¥¼ ì œì•ˆí•´ë³´ì„¸ìš”!</p>

    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>
    <div style="margin-bottom: 10px;">íƒêµ¬ ì§„í–‰ë¥ : <span id="progress-text">0</span>/5</div>

    <div class="campsite-container" id="campsite">
        
        <div class="item" id="tent" onclick="openModal('tent')">
            <span class="item-icon">â›º</span>
            í…íŠ¸
            <div class="check-mark" id="check-tent">âœ”</div>
        </div>

        <div class="item" id="fire" onclick="openModal('fire')">
            <span class="item-icon">ğŸ”¥</span>
            ëª¨ë‹¥ë¶ˆ
            <div class="check-mark" id="check-fire">âœ”</div>
        </div>

        <div class="item" id="pot" onclick="openModal('pot')">
            <span class="item-icon">ğŸ¥˜</span>
            ì½”í (ëƒ„ë¹„)
            <div class="check-mark" id="check-pot">âœ”</div>
        </div>

        <div class="item" id="thermos" onclick="openModal('thermos')">
            <span class="item-icon">ğŸ¥¤</span>
            ë³´ì˜¨ë³‘
            <div class="check-mark" id="check-thermos">âœ”</div>
        </div>

        <div class="item" id="sleeping-bag" onclick="openModal('sleeping-bag')">
            <span class="item-icon">ğŸŒ­</span>
            ì¹¨ë‚­
            <div class="check-mark" id="check-sleeping-bag">âœ”</div>
        </div>

    </div>

    <div id="final-report">
        <h2>ğŸ‰ íƒêµ¬ ì™„ë£Œ! ê³¼í•™ ì›ë¦¬ ì •ë¦¬</h2>
        <ul id="summary-list">
            </ul>
        
        <div class="idea-lab">
            <h3>ğŸ’¡ ë‚˜ë§Œì˜ ìº í•‘ ì¥ë¹„ ë°œëª…í•˜ê¸°</h3>
            <p>ì˜¤ëŠ˜ ë°°ìš´ ì—´ì˜ ì´ë™(ì „ë„, ëŒ€ë¥˜, ë³µì‚¬) ì›ë¦¬ë¥¼ ì´ìš©í•´ì„œ ê¸°ì¡´ ì¥ë¹„ë¥¼ ê°œì„ í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì¥ë¹„ë¥¼ ì œì•ˆí•´ë³´ì„¸ìš”.</p>
            <p><em>ì˜ˆì‹œ: ê°€ë²¼ìš°ë©´ì„œë„ ë‹¨ì—´ì´ ì˜ ë˜ëŠ” ì—ì–´ë¡œì ¤ ì†Œì¬ í…íŠ¸</em></p>
            <textarea id="idea-input" rows="4" placeholder="ì—¬ê¸°ì— ì•„ì´ë””ì–´ë¥¼ ì ì–´ë³´ì„¸ìš”..."></textarea>
            <button onclick="submitIdea()">ì•„ì´ë””ì–´ ì œì¶œ</button>
            <div id="idea-feedback" class="feedback"></div>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 id="modal-title">ì•„ì´í…œ ì´ë¦„</h2>
            <div id="modal-visual" class="science-visual">
                </div>
            <p id="modal-desc">ì„¤ëª… í…ìŠ¤íŠ¸</p>
            
            <div class="question-box">
                <p id="modal-question">ì§ˆë¬¸ í…ìŠ¤íŠ¸</p>
                <input type="text" id="user-answer" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì „ë„, ë‹¨ì—´ ë“±)">
                <button onclick="checkAnswer()">í™•ì¸</button>
                <div id="modal-feedback" class="feedback"></div>
            </div>
        </div>
    </div>

    <script>
        // ë°ì´í„° ë² ì´ìŠ¤
        const items = {
            'tent': {
                name: "ìº í•‘ìš© í…íŠ¸",
                desc: "í…íŠ¸ëŠ” ë¹„ë°”ëŒì„ ë§‰ì•„ì£¼ê³  ì–‡ì€ ì²œì´ì§€ë§Œ ìš°ë¦¬ ëª¸ì„ ë³´í˜¸í•´ì¤ë‹ˆë‹¤. ì£¼ë¡œ ë‚˜ì¼ë¡  ê°™ì€ í•©ì„± ì„¬ìœ ë¡œ ë§Œë“¤ì–´ì§€ë©° ë‚´ë¶€ëŠ” ì½”íŒ…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.",
                visual: "ğŸŒ¬ï¸ í…íŠ¸ ì•ˆê³¼ ë°– ì˜¨ë„ ì‹¤í—˜ <br><br> [ë°”ê¹¥] ì°¬ ë°”ëŒ â¡ï¸ || (í…íŠ¸ ì²œ) || â¬…ï¸ [ì•ˆìª½] ë”°ëœ»í•œ ê³µê¸° <br> *ì²œì´ ê³µê¸°ì˜ ì´ë™(ëŒ€ë¥˜)ì„ ë§‰ê³  ì—´ì„ ê°€ë‘¡ë‹ˆë‹¤.*",
                question: "í…íŠ¸ ì²œì€ ì—´ì„ ì˜ ì „ë‹¬í•˜ì§€ ì•ŠëŠ” ì¬ì§ˆì„ ì‚¬ìš©í•˜ê³ , ë°”ëŒì„ ë§‰ì•„ ë‚´ë¶€ ì˜¨ë„ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì—¬ê¸°ì— ì ìš©ëœ í•µì‹¬ ì›ë¦¬ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?",
                keywords: ["ë‹¨ì—´", "ëŒ€ë¥˜", "ì „ë„"],
                hint: "ì—´ì´ ë°–ìœ¼ë¡œ ë‚˜ê°€ëŠ” ê²ƒì„ ë§‰ëŠ” ê²ƒì„ 'Oì—´'ì´ë¼ê³  í•´ìš”. ë˜í•œ ê³µê¸°ì˜ íë¦„ì„ ë§‰ì•„ 'Oë¥˜'ë¥¼ ì°¨ë‹¨í•©ë‹ˆë‹¤.",
                explanation: "ì •ë‹µì…ë‹ˆë‹¤! í…íŠ¸ëŠ” ì—´ì „ë„ê°€ ë‚®ì€ ì†Œì¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ì˜ ì—´ì´ ë°–ìœ¼ë¡œ ë‚˜ê°€ëŠ” ê²ƒ(ì „ë„)ì„ ë§‰ê³ , ë°”ëŒì„ ë§‰ì•„ ê³µê¸°ê°€ ì„ì´ëŠ” ê²ƒ(ëŒ€ë¥˜)ì„ ì°¨ë‹¨í•˜ì—¬ 'ë‹¨ì—´' íš¨ê³¼ë¥¼ ëƒ…ë‹ˆë‹¤."
            },
            'fire': {
                name: "ëª¨ë‹¥ë¶ˆê³¼ ë‚œë¡œ",
                desc: "ì¶”ìš´ ë°¤, ëª¨ë‹¥ë¶ˆ ì˜†ì— ì•‰ì•„ ìˆìœ¼ë©´ ë”°ëœ»í•¨ì„ ëŠë‚ë‹ˆë‹¤. ê³µê¸°ë¥¼ ë°ìš°ê¸°ë„ í•˜ì§€ë§Œ, ë¶ˆì„ ì§ì ‘ ì³ë‹¤ë³´ê¸°ë§Œ í•´ë„ ì–¼êµ´ì´ í™”ëˆê±°ë¦½ë‹ˆë‹¤.",
                visual: "ğŸ”¥ ì—´ì˜ ì´ë™ ê²½ë¡œ <br><br> 1. ìœ„ìª½ìœ¼ë¡œ ì˜¬ë¼ê°€ëŠ” ì—´ê¸° (ê³µê¸°ì˜ ì´ë™) <br> 2. ì˜†ìœ¼ë¡œ ì§ì ‘ ì „ë‹¬ë˜ëŠ” ì—´ê¸° (ë¹›ì²˜ëŸ¼ ì´ë™)",
                question: "ë¶ˆ ìœ„ìª½ì´ ì•„ë‹ˆë¼ ì˜†ì— ìˆì–´ë„ ë”°ëœ»í•œ ì´ìœ ëŠ”, ì—´ì´ ë¹›ì²˜ëŸ¼ ì§ì ‘ ì „ë‹¬ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ í˜„ìƒì„ ë¬´ì—‡ì´ë¼ê³  í• ê¹Œìš”?",
                keywords: ["ë³µì‚¬"],
                hint: "íƒœì–‘ì—´ì´ ìš°ì£¼ë¥¼ ê±´ë„ˆ ì§€êµ¬ì— ë„ë‹¬í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì›ë¦¬ì…ë‹ˆë‹¤. 'Oì‚¬'ë¼ê³  í•©ë‹ˆë‹¤.",
                explanation: "ë§ì•„ìš”! ì—´ì´ ë¬¼ì§ˆì„ ê±°ì¹˜ì§€ ì•Šê³  ì§ì ‘ ì´ë™í•˜ëŠ” í˜„ìƒì„ 'ë³µì‚¬'ë¼ê³  í•©ë‹ˆë‹¤. ìœ„ìª½ìœ¼ë¡œ ë”°ëœ»í•œ ê³µê¸°ê°€ ì˜¬ë¼ê°€ëŠ” ê²ƒì€ 'ëŒ€ë¥˜'ì…ë‹ˆë‹¤."
            },
            'pot': {
                name: "ì•Œë£¨ë¯¸ëŠ„ ì½”í ",
                desc: "ìº í•‘ì¥ì—ì„œëŠ” ê°€ë³ê³  íŠ¼íŠ¼í•œ ê¸ˆì† ì½”í ì„ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬¼ì´ ì•„ì£¼ ë¹¨ë¦¬ ë“ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.",
                visual: "ğŸ¥˜ ë¬¼ ë“ì´ê¸° ì‹¤í—˜ <br><br> (A) ëšë°°ê¸°: ì²œì²œíˆ ëœ¨ê±°ì›Œì§ <br> (B) ì•Œë£¨ë¯¸ëŠ„ ì½”í : ë§¤ìš° ë¹¨ë¦¬ ëœ¨ê±°ì›Œì§ âš¡",
                question: "ì½”í ì€ ë¶ˆì˜ ì—´ì„ ìŒì‹ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ê¸ˆì†ì€ 'ì´ê²ƒ'ì´ ë†’ì€ ì¬ì§ˆì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬´ì—‡ì¼ê¹Œìš”?",
                keywords: ["ì „ë„", "ì—´ì „ë„", "ì „ë„ìœ¨"],
                hint: "ê³ ì²´ì—ì„œ ì—´ì´ ì „ë‹¬ë˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤. ê¸ˆì†ì€ ì´ê²ƒì´ ì•„ì£¼ ì˜ ì¼ì–´ë‚©ë‹ˆë‹¤.",
                explanation: "ì •ë‹µ! ê¸ˆì†ì€ 'ì—´ì „ë„ìœ¨'ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì—°ë£Œë¥¼ ì ê²Œ ì“°ê³ ë„ ìŒì‹ì„ ë¹¨ë¦¬ ìµí ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            },
            'thermos': {
                name: "ì§„ê³µ ë³´ì˜¨ë³‘",
                desc: "ë³´ì˜¨ë³‘ì€ ëœ¨ê±°ìš´ ë¬¼ì„ ì˜¤ë«ë™ì•ˆ ì‹ì§€ ì•Šê²Œ í•´ì¤ë‹ˆë‹¤. ì•ˆì„ ëœ¯ì–´ë³´ë©´ ë²½ì´ ë‘ ê²¹ì´ê³ , ë‚´ë¶€ëŠ” ì€ìƒ‰ìœ¼ë¡œ ë°˜ì§ì…ë‹ˆë‹¤.",
                visual: "ğŸ¥¤ ë³´ì˜¨ë³‘ ë‹¨ë©´ë„ <br><br> 1. ì´ì¤‘ë²½ ì‚¬ì´: ì§„ê³µ ìƒíƒœ (ê³µê¸°ê°€ ì—†ìŒ) <br> 2. ì€ìƒ‰ ë„ê¸ˆ: ê±°ìš¸ì²˜ëŸ¼ ì—´ì„ ë°˜ì‚¬ âœ¨",
                question: "ì´ì¤‘ë²½ ì‚¬ì´ë¥¼ ì§„ê³µìœ¼ë¡œ ë§Œë“¤ë©´ ë¬¼ì§ˆì´ ì—†ìœ¼ë¯€ë¡œ ì „ë„ì™€ ëŒ€ë¥˜ê°€ ì¼ì–´ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ 'ì€ìƒ‰ ë„ê¸ˆ'ì€ ì–´ë–¤ ì—´ì˜ ì´ë™ì„ ë§‰ê¸° ìœ„í•¨ì¼ê¹Œìš”?",
                keywords: ["ë³µì‚¬"],
                hint: "ê±°ìš¸ì´ ë¹›ì„ ë°˜ì‚¬í•˜ë“¯ì´, ì€ìƒ‰ ë²½ì€ ì—´ì„ ë°˜ì‚¬í•˜ì—¬ ë‚´ë¶€ë¡œ ëŒë ¤ë³´ëƒ…ë‹ˆë‹¤.",
                explanation: "í›Œë¥­í•©ë‹ˆë‹¤! ì§„ê³µì€ ì „ë„ì™€ ëŒ€ë¥˜ë¥¼ ë§‰ê³ , ì€ìƒ‰ ë„ê¸ˆì€ 'ë³µì‚¬'ì— ì˜í•œ ì—´ ì†ì‹¤ì„ ë°˜ì‚¬í•˜ì—¬ ë§‰ìŠµë‹ˆë‹¤. ì™„ë²½í•œ ë‹¨ì—´ ì‹œìŠ¤í…œì´ì£ ."
            },
            'sleeping-bag': {
                name: "ì¹¨ë‚­",
                desc: "ì¹¨ë‚­ ì†ì—ëŠ” ì˜¤ë¦¬í„¸ì´ë‚˜ ì†œì´ ë¹µë¹µí•˜ê²Œ ë“¤ì–´ìˆìŠµë‹ˆë‹¤. ëˆ„ë¥´ë©´ í‘¹ì‹ í•˜ê³  ê³µê¸°ê°€ ë§ì´ ë“¤ì–´ìˆëŠ” ëŠë‚Œì´ ë“­ë‹ˆë‹¤.",
                visual: "â˜ï¸ ì¶©ì „ì¬ í™•ëŒ€ ëª¨ìŠµ <br><br> ì†œ/í„¸ ì‚¬ì´ì‚¬ì´ì— ì‘ì€ 'ê³µê¸° ì£¼ë¨¸ë‹ˆ'ë“¤ì´ ë§ì´ ìˆìŠµë‹ˆë‹¤. <br> *ê³µê¸°ëŠ” ì—´ì„ ì˜ ì „ë‹¬í•˜ì§€ ì•ŠëŠ” ìµœê³ ì˜ ë‹¨ì—´ì¬ì…ë‹ˆë‹¤.*",
                question: "ì¹¨ë‚­ì´ ë”°ëœ»í•œ ì´ìœ ëŠ” ì†œì´ë‚˜ í„¸ ìì²´ê°€ ë”°ëœ»í•´ì„œê°€ ì•„ë‹ˆë¼, ê·¸ ì‚¬ì´ì— ê°€ë‘ì–´ì§„ 'ì´ê²ƒ' ë•Œë¬¸ì…ë‹ˆë‹¤. ì—´ì „ë„ìœ¨ì´ ë§¤ìš° ë‚®ì€ ê¸°ì²´ì¸ 'ì´ê²ƒ'ì€ ë¬´ì—‡ì¼ê¹Œìš”?",
                keywords: ["ê³µê¸°"],
                hint: "ìš°ë¦¬ ì£¼ë³€ì— í•­ìƒ ìˆìœ¼ë©°, ìš°ë¦¬ê°€ ìˆ¨ ì‰´ ë•Œ ë§ˆì‹œëŠ” ê¸°ì²´ì…ë‹ˆë‹¤.",
                explanation: "ë§ìŠµë‹ˆë‹¤! ì •ì§€í•´ ìˆëŠ” 'ê³µê¸°'ëŠ” ì—´ì „ë„ìœ¨ì´ ë§¤ìš° ë‚®ì•„ í›Œë¥­í•œ ë‹¨ì—´ì¬ ì—­í• ì„ í•©ë‹ˆë‹¤. ì¹¨ë‚­ì€ ì²´ì˜¨ì´ ë°–ìœ¼ë¡œ ëºê¸°ì§€ ì•Šê²Œ ê³µê¸°ì¸µì„ ì´ìš©í•©ë‹ˆë‹¤."
            }
        };

        let currentItemKey = null;
        let exploredItems = new Set();

        function openModal(key) {
            currentItemKey = key;
            const item = items[key];
            
            document.getElementById('modal-title').innerText = item.name;
            document.getElementById('modal-visual').innerHTML = item.visual;
            document.getElementById('modal-desc').innerText = item.desc;
            document.getElementById('modal-question').innerText = item.question;
            
            // ì´ˆê¸°í™”
            document.getElementById('user-answer').value = '';
            const feedbackEl = document.getElementById('modal-feedback');
            feedbackEl.style.display = 'none';
            feedbackEl.className = 'feedback';

            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function checkAnswer() {
            const userVal = document.getElementById('user-answer').value.trim();
            const item = items[currentItemKey];
            const feedbackEl = document.getElementById('modal-feedback');
            
            if (!userVal) {
                alert("ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }

            // í‚¤ì›Œë“œ ì²´í¬
            let isCorrect = false;
            for (let kw of item.keywords) {
                if (userVal.includes(kw)) {
                    isCorrect = true;
                    break;
                }
            }

            feedbackEl.style.display = 'block';

            if (isCorrect) {
                feedbackEl.className = 'feedback success';
                feedbackEl.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤!</strong><br>${item.explanation}`;
                
                // ì™„ë£Œ ì²˜ë¦¬
                if (!exploredItems.has(currentItemKey)) {
                    exploredItems.add(currentItemKey);
                    document.getElementById(`check-${currentItemKey}`).style.display = 'flex';
                    updateProgress();
                }
            } else {
                feedbackEl.className = 'feedback hint';
                feedbackEl.innerHTML = `<strong>íŒíŠ¸:</strong> ${item.hint} <br> ë‹¤ì‹œ ìƒê°í•´ë³´ê³  ì…ë ¥í•´ë³´ì„¸ìš”!`;
            }
        }

        function updateProgress() {
            const count = exploredItems.size;
            const total = Object.keys(items).length;
            const percentage = (count / total) * 100;

            document.getElementById('progress-fill').style.width = percentage + '%';
            document.getElementById('progress-text').innerText = count;

            if (count === total) {
                showFinalReport();
            }
        }

        function showFinalReport() {
            const report = document.getElementById('final-report');
            const list = document.getElementById('summary-list');
            list.innerHTML = '';

            // ìš”ì•½ ë¦¬ìŠ¤íŠ¸ ìƒì„±
            for (let key in items) {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${items[key].name}:</strong> ${items[key].keywords[0]} ì›ë¦¬ í™œìš©`;
                list.appendChild(li);
            }

            report.style.display = 'block';
            
            // ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ ì´ë™
            setTimeout(() => {
                report.scrollIntoView({ behavior: 'smooth' });
            }, 500);
        }

        function submitIdea() {
            const idea = document.getElementById('idea-input').value;
            const feedback = document.getElementById('idea-feedback');
            
            const scienceTerms = ['ì „ë„', 'ëŒ€ë¥˜', 'ë³µì‚¬', 'ë‹¨ì—´', 'ë¹„ì—´', 'ì—´íŒ½ì°½', 'ì˜¨ë„', 'ì…ì', 'ì†Œì¬', 'ì§„ê³µ', 'ê³µê¸°'];
            let foundTerms = scienceTerms.filter(term => idea.includes(term));

            feedback.style.display = 'block';

            if (idea.length < 10) {
                feedback.className = 'feedback hint';
                feedback.innerHTML = "ì•„ì´ë””ì–´ê°€ ë„ˆë¬´ ì§§ì•„ìš”. ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•´ë³¼ê¹Œìš”?";
            } else if (foundTerms.length > 0) {
                feedback.className = 'feedback success';
                feedback.innerHTML = `<strong>í›Œë¥­í•œ ì œì•ˆì…ë‹ˆë‹¤!</strong><br>
                ê³¼í•™ì  ìš©ì–´(${foundTerms.join(', ')})ë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ëª…í–ˆë„¤ìš”.<br>
                ì—¬ëŸ¬ë¶„ì´ ì œì•ˆí•œ ì•„ì´ë””ì–´ê°€ ì‹¤ì œë¡œ ì œí’ˆìœ¼ë¡œ ë§Œë“¤ì–´ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.`;
            } else {
                feedback.className = 'feedback hint';
                feedback.innerHTML = `ì•„ì´ë””ì–´ëŠ” ì¢‹ì§€ë§Œ ê³¼í•™ì  ì›ë¦¬ ì„¤ëª…ì´ ë¶€ì¡±í•´ìš”.<br>
                <strong>'ì „ë„', 'ë‹¨ì—´', 'ì†Œì¬'</strong> ê°™ì€ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™œ ê·¸ëŸ° ê¸°ëŠ¥ì´ ê°€ëŠ¥í•œì§€ ì„¤ëª…í•´ë³´ì„¸ìš”.`;
            }
        }

        // ëª¨ë‹¬ ë°– í´ë¦­ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>