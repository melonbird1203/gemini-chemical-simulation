<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™”í•™ ê°€ìƒì‹¤í—˜ì‹¤: ë°˜ì‘ ì†ë„ ë¹„êµ</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f5a623;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
        }

        body {
            font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            text-align: center;
        }

        header h1 { margin: 0; font-size: 1.5rem; }
        header p { margin: 5px 0 0; font-size: 0.9rem; opacity: 0.9; }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 0 20px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            background: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            color: #777;
            transition: 0.3s;
        }

        .tab-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Content Sections */
        .section {
            display: none;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            animation: fadeIn 0.5s;
        }

        .section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Experiment Controls */
        .control-panel {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
            background: #eef2f5;
            padding: 15px;
            border-radius: 8px;
        }

        select, button {
            padding: 10px 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 1rem;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        button:hover { opacity: 0.9; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }

        .reset-btn { background-color: var(--danger-color); }

        /* Visualization Area */
        .experiment-view {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .experiment-view { grid-template-columns: 1fr; }
        }

        .visual-box {
            border: 2px dashed #ccc;
            height: 250px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: #fafafa;
            overflow: hidden;
        }

        .visual-img {
            font-size: 4rem;
            transition: all 0.5s;
        }

        /* Progress Bar */
        .progress-container {
            margin-top: 15px;
            background: #eee;
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: var(--success-color);
            width: 0%;
            transition: width 0.1s linear;
        }

        .timer-display {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 10px 0;
            color: var(--primary-color);
        }

        /* Theory & Info */
        .info-box {
            background: #f0f8ff;
            padding: 15px;
            border-left: 5px solid var(--primary-color);
            margin-top: 20px;
        }

        .particle-view {
            background: #333;
            color: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.9rem;
        }

        /* Quiz Styles */
        .quiz-item {
            background: #fff;
            border: 1px solid #ddd;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .quiz-container {
            border: 2px solid #eee;
            padding: 10px;
            border-radius: 8px;
            min-height: 200px;
        }

        .feedback-msg {
            margin-top: 10px;
            font-weight: bold;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .latex-formula {
            font-family: "Times New Roman", serif;
            font-style: italic;
            background: #eee;
            padding: 2px 5px;
            border-radius: 3px;
        }

    </style>
</head>
<body>

<header>
    <h1>ğŸ§ª í™”í•™ ë°˜ì‘ ì†ë„ ê°€ìƒì‹¤í—˜ì‹¤</h1>
    <p>ê³ ë“±í•™êµ í™”í•™â…¡: ë¹ ë¥¸ ë°˜ì‘ê³¼ ëŠë¦° ë°˜ì‘ ë¹„êµí•˜ê¸°</p>
</header>

<div class="container">
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('learn')">1. ê°œë… í•™ìŠµ</button>
        <button class="tab-btn" onclick="switchTab('experiment')">2. ê°€ìƒ ì‹¤í—˜</button>
        <button class="tab-btn" onclick="switchTab('quiz')">3. í€´ì¦ˆ ë° ì •ë¦¬</button>
    </div>

    <div id="learn" class="section active">
        <h2>â±ï¸ í™”í•™ ë°˜ì‘ ì†ë„ë€?</h2>
        <p>í™”í•™ ë°˜ì‘ì˜ ë¹ ë¥´ê¸°ëŠ” ë‹¨ìœ„ ì‹œê°„ ë™ì•ˆ ë°˜ì‘ë¬¼ì´ë‚˜ ìƒì„±ë¬¼ì˜ ë†ë„ ë³€í™”ëŸ‰ìœ¼ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
        <div style="text-align: center; margin: 20px 0;">
            <span class="latex-formula">v = Î”[C] / Î”t</span>
            <p>(v: ë°˜ì‘ ì†ë„, Î”[C]: ë†ë„ ë³€í™”ëŸ‰, Î”t: ì‹œê°„ ë³€í™”ëŸ‰)</p>
        </div>
        
        <div class="info-box">
            <h3>ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸</h3>
            <ul>
                <li><strong>ë¹ ë¥¸ ë°˜ì‘:</strong> ì—°ì†Œ, í­ë°œ, ì¤‘í™” ë°˜ì‘ ë“± (ì´ˆ ë‹¨ìœ„ ì´í•˜)</li>
                <li><strong>ëŠë¦° ë°˜ì‘:</strong> ì² ì˜ ë¶€ì‹, ì„íšŒë™êµ´ ìƒì„±, ê³¼ì¼ì˜ ìˆ™ì„± ë“± (ì¼, ë…„ ë‹¨ìœ„)</li>
                <li>ë°˜ì‘ ì†ë„ëŠ” <strong>ì…ìì˜ ì¶©ëŒ íšŸìˆ˜</strong>ì™€ <strong>í™œì„±í™” ì—ë„ˆì§€</strong>ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.</li>
            </ul>
        </div>
        <p>ë‹¤ìŒ íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì‹¤ì œ ë°˜ì‘ì„ ì‹œë®¬ë ˆì´ì…˜ í•´ë´…ì‹œë‹¤.</p>
    </div>

    <div id="experiment" class="section">
        <h2>âš—ï¸ ë°˜ì‘ ì‹¤í—˜ì‹¤</h2>
        <p>ì•„ë˜ì—ì„œ ë°˜ì‘ ì¢…ë¥˜ë¥¼ ì„ íƒí•˜ê³  ì‹¤í—˜ì„ ì‹œì‘í•˜ì„¸ìš”. <br><strong>ì£¼ì˜:</strong> í¸ì˜ë¥¼ ìœ„í•´ ëª¨ë“  ë°˜ì‘ì€ ì‹œë®¬ë ˆì´ì…˜ ìƒì—ì„œ ì•½ 5~10ì´ˆ ë™ì•ˆ ì§„í–‰ë˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œê°í™”ë©ë‹ˆë‹¤.</p>
        
        <div class="control-panel">
            <label for="reactionSelect">ë°˜ì‘ ì„ íƒ:</label>
            <select id="reactionSelect" onchange="resetExperiment()">
                <option value="fireworks">1. í­ì£½ (ë§¤ìš° ë¹ ë¦„)</option>
                <option value="paper">2. ì¢…ì´ ì—°ì†Œ (ë¹ ë¦„)</option>
                <option value="rust">3. ì² ì˜ ë…¹ìŠ´ (ëŠë¦¼)</option>
                <option value="cave">4. ì„íšŒë™êµ´ ìƒì„± (ë§¤ìš° ëŠë¦¼)</option>
            </select>
            <button onclick="startExperiment()" id="startBtn">ì‹¤í—˜ ì‹œì‘</button>
            <button class="reset-btn" onclick="resetExperiment()">ì´ˆê¸°í™”</button>
        </div>

        <div class="timer-display">ê²½ê³¼ ì‹œê°„: <span id="timer">0.00</span> <span id="timeUnit">ì´ˆ</span></div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="experiment-view" style="margin-top:20px;">
            <div>
                <h3>ğŸ‘ï¸ ê´€ì°° í™”ë©´</h3>
                <div class="visual-box" id="visualBox">
                    <div id="visualContent" class="visual-img">ğŸ§¨</div>
                </div>
            </div>
            <div>
                <h3>ğŸ“Š ì‹¤ì‹œê°„ ë°ì´í„° & ì…ì ì„¤ëª…</h3>
                <div class="info-box" id="dataBox">
                    <p><strong>ë°˜ì‘ ìƒíƒœ:</strong> <span id="statusText">ëŒ€ê¸° ì¤‘</span></p>
                    <p><strong>ì‹¤ì œ ì†Œìš” ì‹œê°„:</strong> <span id="realTimeText">-</span></p>
                </div>
                <div class="particle-view" id="particleText">
                    ì‹¤í—˜ì„ ì‹œì‘í•˜ë©´ ì…ì ìˆ˜ì¤€ì˜ ì„¤ëª…ì´ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
                </div>
            </div>
        </div>
    </div>

    <div id="quiz" class="section">
        <h2>ğŸ“ í•™ìŠµ í™•ì¸ í€´ì¦ˆ</h2>
        <p>ë‹¤ìŒ ë°˜ì‘ë“¤ì„ <strong>ë°˜ì‘ ì†ë„ê°€ ë¹ ë¥¸ ìˆœì„œëŒ€ë¡œ</strong> (ê°€ì¥ ë¹ ë¥¸ ê²ƒì´ 1ìœ„) ì„ íƒí•´ì£¼ì„¸ìš”.</p>
        
        <div class="control-panel">
            <label>1ìœ„ (ê°€ì¥ ë¹ ë¦„): </label>
            <select id="rank1">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="fireworks">í­ì£½ í„°ì§</option>
                <option value="paper">ì¢…ì´ ì—°ì†Œ</option>
                <option value="rust">ì² ì˜ ë¶€ì‹</option>
                <option value="cave">ì„íšŒë™êµ´ ìƒì„±</option>
            </select>
        </div>
        <div class="control-panel">
            <label>2ìœ„: </label>
            <select id="rank2">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="fireworks">í­ì£½ í„°ì§</option>
                <option value="paper">ì¢…ì´ ì—°ì†Œ</option>
                <option value="rust">ì² ì˜ ë¶€ì‹</option>
                <option value="cave">ì„íšŒë™êµ´ ìƒì„±</option>
            </select>
        </div>
        <div class="control-panel">
            <label>3ìœ„: </label>
            <select id="rank3">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="fireworks">í­ì£½ í„°ì§</option>
                <option value="paper">ì¢…ì´ ì—°ì†Œ</option>
                <option value="rust">ì² ì˜ ë¶€ì‹</option>
                <option value="cave">ì„íšŒë™êµ´ ìƒì„±</option>
            </select>
        </div>
        <div class="control-panel">
            <label>4ìœ„ (ê°€ì¥ ëŠë¦¼): </label>
            <select id="rank4">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="fireworks">í­ì£½ í„°ì§</option>
                <option value="paper">ì¢…ì´ ì—°ì†Œ</option>
                <option value="rust">ì² ì˜ ë¶€ì‹</option>
                <option value="cave">ì„íšŒë™êµ´ ìƒì„±</option>
            </select>
        </div>

        <button onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
        <div id="quizFeedback" class="feedback-msg"></div>

        <hr>
        <h3>ğŸ¤” ì‹¬í™” ì§ˆë¬¸</h3>
        <p>ì² ì´ ë…¹ìŠ¤ëŠ” ê²ƒì€ ëŠë¦° ë°˜ì‘ì´ì§€ë§Œ, <strong>í•«íŒ©(ì² ê°€ë£¨)</strong>ì€ ì™œ ë¹ ë¥´ê²Œ ëœ¨ê±°ì›Œì§ˆê¹Œìš”?</p>
        <textarea style="width:100%; height:80px; padding:10px; border-radius:5px; border:1px solid #ccc;" placeholder="ì—¬ê¸°ì— ìƒê°ì„ ì ì–´ë³´ì„¸ìš”... (íŒíŠ¸: í‘œë©´ì )"></textarea>
    </div>
</div>

<script>
    // Data definition
    const reactions = {
        fireworks: {
            name: "í­ì£½",
            icon: "ğŸ§¨",
            endIcon: "ğŸ’¥",
            duration: 1, // sim seconds
            realTime: "0.1ì´ˆ ë¯¸ë§Œ",
            unit: "ì´ˆ",
            desc: "ë§¤ìš° ê²©ë ¬í•œ ì‚°í™” ë°˜ì‘",
            particle: "ğŸ’¥ ë†’ì€ ì—ë„ˆì§€ì˜ ì…ìë“¤ì´ ìˆœì‹ê°„ì— ìˆ˜ì—†ì´ ì¶©ëŒí•˜ë©° ë¹›ê³¼ ì—´ì„ ë°©ì¶œí•©ë‹ˆë‹¤!"
        },
        paper: {
            name: "ì¢…ì´ ì—°ì†Œ",
            icon: "ğŸ“„",
            endIcon: "ğŸ”¥",
            duration: 5,
            realTime: "ìˆ˜ ì´ˆ ~ ìˆ˜ ë¶„",
            unit: "ì´ˆ",
            desc: "ë¹ ë¥¸ ì‚°í™” ë°˜ì‘",
            particle: "ğŸ”¥ ì‚°ì†Œ ë¶„ìê°€ ì¢…ì´ ë¶„ìì™€ í™œë°œí•˜ê²Œ ì¶©ëŒí•˜ì—¬ ì—ë„ˆì§€ë¥¼ ë‚´ë†“ìŠµë‹ˆë‹¤."
        },
        rust: {
            name: "ì² ì˜ ë…¹ìŠ´",
            icon: "ğŸ”©",
            endIcon: "ğŸŸ¤",
            duration: 8,
            realTime: "ìˆ˜ ì¼ ~ ìˆ˜ ê°œì›”",
            unit: "ì¼",
            desc: "ëŠë¦° ì‚°í™” ë°˜ì‘",
            particle: "ğŸ“‰ ê³µê¸° ì¤‘ì˜ ì‚°ì†Œì™€ ë¬¼ì´ ì²  í‘œë©´ì—ì„œ ì²œì²œíˆ ë§Œë‚˜ ì¶©ëŒ ë¹ˆë„ê°€ ë‚®ìŠµë‹ˆë‹¤."
        },
        cave: {
            name: "ì„íšŒë™êµ´ ìƒì„±",
            icon: "ğŸª¨",
            endIcon: "ğŸ”ï¸",
            duration: 10,
            realTime: "ìˆ˜ë§Œ ë…„ ~ ìˆ˜ì‹­ë§Œ ë…„",
            unit: "ë…„",
            desc: "ë§¤ìš° ëŠë¦° ìš©í•´/ì¹¨ì „ ë°˜ì‘",
            particle: "â³ íƒ„ì‚°ì¹¼ìŠ˜ê³¼ ì§€í•˜ìˆ˜ì˜ ë°˜ì‘ì€ ë§¤ìš° ì²œì²œíˆ ì¼ì–´ë‚˜ë©° ê¸´ ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤."
        }
    };

    let currentInterval = null;
    let isRunning = false;

    // Tab Logic
    function switchTab(tabId) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        event.target.classList.add('active');
    }

    // Experiment Logic
    function startExperiment() {
        if (isRunning) return;
        
        const type = document.getElementById('reactionSelect').value;
        const data = reactions[type];
        const visualContent = document.getElementById('visualContent');
        const progressBar = document.getElementById('progressBar');
        const timerText = document.getElementById('timer');
        const timeUnit = document.getElementById('timeUnit');
        const statusText = document.getElementById('statusText');
        const particleText = document.getElementById('particleText');
        const realTimeText = document.getElementById('realTimeText');

        isRunning = true;
        document.getElementById('startBtn').disabled = true;
        
        // Setup Initial State
        visualContent.textContent = data.icon;
        statusText.textContent = "ë°˜ì‘ ì§„í–‰ ì¤‘...";
        realTimeText.textContent = data.realTime;
        timeUnit.textContent = "ê°€ìƒ ì‹œê°„(" + data.unit + ")";
        particleText.textContent = data.particle;

        // Animation logic
        let progress = 0;
        let simTime = 0;
        const totalSimTime = 100; // split into 100 steps
        const stepTime = (data.duration * 1000) / 100; // real ms per step

        currentInterval = setInterval(() => {
            progress++;
            simTime += (data.duration / 100); // just logical time increment
            
            progressBar.style.width = progress + "%";
            timerText.textContent = simTime.toFixed(1);

            // Simple visual effect
            if (progress % 20 === 0 && progress < 100) {
                visualContent.style.transform = `scale(${1 + (progress/200)})`;
                visualContent.style.opacity = (progress % 40 === 0) ? "0.7" : "1";
            }

            if (progress >= 100) {
                clearInterval(currentInterval);
                finishExperiment(data);
            }
        }, 30); // fixed animation tick, logical time varies
    }

    function finishExperiment(data) {
        const visualContent = document.getElementById('visualContent');
        visualContent.textContent = data.endIcon;
        visualContent.style.transform = "scale(1.2)";
        visualContent.style.opacity = "1";
        
        document.getElementById('statusText').textContent = "ë°˜ì‘ ì™„ë£Œ!";
        document.getElementById('statusText').style.color = "var(--success-color)";
        isRunning = false;
        document.getElementById('startBtn').disabled = false;
    }

    function resetExperiment() {
        clearInterval(currentInterval);
        isRunning = false;
        document.getElementById('startBtn').disabled = false;
        document.getElementById('progressBar').style.width = "0%";
        document.getElementById('timer').textContent = "0.00";
        document.getElementById('statusText').textContent = "ëŒ€ê¸° ì¤‘";
        document.getElementById('statusText').style.color = "var(--text-color)";
        document.getElementById('realTimeText').textContent = "-";
        document.getElementById('particleText').textContent = "ì‹¤í—˜ì„ ì‹œì‘í•˜ë©´ ì…ì ìˆ˜ì¤€ì˜ ì„¤ëª…ì´ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.";
        
        const type = document.getElementById('reactionSelect').value;
        const visualContent = document.getElementById('visualContent');
        visualContent.textContent = reactions[type].icon;
        visualContent.style.transform = "scale(1)";
    }

    // Quiz Logic
    function checkAnswer() {
        const r1 = document.getElementById('rank1').value;
        const r2 = document.getElementById('rank2').value;
        const r3 = document.getElementById('rank3').value;
        const r4 = document.getElementById('rank4').value;
        
        const feedback = document.getElementById('quizFeedback');
        
        // Correct Order: fireworks -> paper -> rust -> cave
        if (r1 === 'fireworks' && r2 === 'paper' && r3 === 'rust' && r4 === 'cave') {
            feedback.textContent = "âœ… ì •ë‹µì…ë‹ˆë‹¤! í­ì£½(ì´ˆ) < ì¢…ì´(ë¶„) < ì² (ì¼) < ë™êµ´(ë…„) ìˆœìœ¼ë¡œ ë°˜ì‘ ì†ë„ê°€ ëŠë ¤ì§‘ë‹ˆë‹¤.";
            feedback.style.backgroundColor = "#d4edda";
            feedback.style.color = "#155724";
            feedback.style.display = "block";
        } else {
            feedback.textContent = "âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”. í­ë°œì ì¸ ë°˜ì‘ì´ ê°€ì¥ ë¹ ë¥´ê³ , ì§€ì§ˆí•™ì  ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ë°˜ì‘ì´ ê°€ì¥ ëŠë¦½ë‹ˆë‹¤.";
            feedback.style.backgroundColor = "#f8d7da";
            feedback.style.color = "#721c24";
            feedback.style.display = "block";
        }
    }
</script>

</body>
</html>