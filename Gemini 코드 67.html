<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ìƒì‹¤í—˜: ë§ˆê·¸ë„¤ìŠ˜ì˜ ì—°ì†Œì™€ ë¬¼ì§ˆì˜ ë³€í™”</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --text-color: #333;
            --bg-color: #f4f7f6;
            --panel-bg: #ffffff;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        /* ë ˆì´ì•„ì›ƒ */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            background: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 { margin: 0; font-size: 1.8rem; }
        header p { margin: 10px 0 0; opacity: 0.9; }

        .lab-bench {
            background: var(--panel-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            position: relative;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
        }

        /* ì‹¤í—˜ ë„êµ¬ ë° ì¬ë£Œ ìŠ¤íƒ€ì¼ */
        .sample-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            width: 100%;
            margin-bottom: 20px;
        }

        .sample-box {
            text-align: center;
            padding: 10px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            min-width: 150px;
            position: relative;
        }

        .magnesium-strip {
            width: 100px;
            height: 15px;
            background: linear-gradient(90deg, #d7d7d7, #ffffff, #d7d7d7);
            border: 1px solid #999;
            margin: 20px auto;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            transition: all 0.5s ease;
            cursor: pointer;
        }

        /* ìƒíƒœ ë³€í™” ìŠ¤íƒ€ì¼ */
        .magnesium-strip.cut {
            width: 45px;
            box-shadow: none;
        }
        
        .magnesium-strip.cut::after {
            content: '';
            display: block;
            width: 45px;
            height: 15px;
            background: linear-gradient(90deg, #d7d7d7, #ffffff, #d7d7d7);
            border: 1px solid #999;
            position: absolute;
            left: 110%; /* ì˜†ìœ¼ë¡œ ì´ë™ */
            top: -1px;
        }

        .magnesium-strip.burned {
            background: #f0f0f0;
            border: 1px solid #e0e0e0;
            border-radius: 50%;
            width: 60px;
            height: 30px;
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.05);
            /* ê°€ë£¨ ëŠë‚Œ */
            background-image: radial-gradient(#ccc 10%, transparent 10%),
                              radial-gradient(#ddd 10%, transparent 10%);
            background-size: 5px 5px;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        @keyframes flash {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); background: white; }
            50% { box-shadow: 0 0 50px 50px rgba(255, 255, 255, 1); background: #fff; }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        .burning-anim {
            animation: flash 1.5s ease-in-out;
        }

        @keyframes bubbles {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-20px) scale(1.2); opacity: 0; }
        }

        .bubble {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(173, 216, 230, 0.8);
            border-radius: 50%;
            pointer-events: none;
        }

        /* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        button {
            padding: 10px 20px;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.1s, background 0.2s;
            font-weight: bold;
        }

        button:active { transform: scale(0.95); }
        
        .btn-scissors { background-color: #3498db; color: white; }
        .btn-burner { background-color: #e67e22; color: white; }
        .btn-acid { background-color: #9b59b6; color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* ì •ë³´ ë° ë¡œê·¸ íŒ¨ë„ */
        .info-panel {
            background: white;
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
            border-left: 5px solid var(--primary-color);
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }

        .observation-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
        }

        .observation-table th, .observation-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }

        .observation-table th { background-color: #f9f9f9; }

        /* í€´ì¦ˆ ì„¹ì…˜ */
        .quiz-section {
            margin-top: 30px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            display: none; /* ì‹¤í—˜ ì™„ë£Œ í›„ í‘œì‹œ */
        }

        .quiz-feedback {
            margin-top: 10px;
            font-weight: bold;
        }

        .safe-badge {
            display: inline-block;
            background: var(--success-color);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            margin-left: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ§ª ë§ˆê·¸ë„¤ìŠ˜ì˜ ì—°ì†Œì™€ ë¬¼ì§ˆì˜ ë³€í™”</h1>
        <p>ë¬¼ë¦¬ ë³€í™”ì™€ í™”í•™ ë³€í™”ì˜ ì°¨ì´ë¥¼ ê°€ìƒ ì‹¤í—˜ì„ í†µí•´ ê´€ì°°í•´ë´…ì‹œë‹¤.</p>
        <div style="margin-top:10px; font-size: 0.9rem;">
            <span class="safe-badge">ì•ˆì „ ì‹¤í—˜ì‹¤</span>
            <span>ì¤‘í•™êµ 3í•™ë…„ | 1. í™”í•™ ë°˜ì‘ì˜ ê·œì¹™ê³¼ ì—ë„ˆì§€ ë³€í™”</span>
        </div>
    </header>

    <div class="lab-bench" id="labArea">
        <div class="sample-container">
            <div class="sample-box">
                <h3>ì‹¤í—˜êµ° A</h3>
                <p style="font-size:0.8rem; color:#666;">(ê°€ìœ„ë¡œ ìë¥´ê¸°)</p>
                <div id="sampleA" class="magnesium-strip" title="ë§ˆê·¸ë„¤ìŠ˜ ë¦¬ë³¸"></div>
                <div id="reactionA" style="height: 30px; font-size:0.8rem; color:var(--primary-color);"></div>
            </div>

            <div class="sample-box">
                <h3>ì‹¤í—˜êµ° B</h3>
                <p style="font-size:0.8rem; color:#666;">(ì—°ì†Œ ì‹œí‚¤ê¸°)</p>
                <div id="sampleB" class="magnesium-strip" title="ë§ˆê·¸ë„¤ìŠ˜ ë¦¬ë³¸"></div>
                <div id="reactionB" style="height: 30px; font-size:0.8rem; color:var(--primary-color);"></div>
            </div>
        </div>

        <div id="statusMessage" style="text-align: center; font-weight: bold; min-height: 50px; color: var(--primary-color);">
            ì‹¤í—˜ì„ ì‹œì‘í•˜ë ¤ë©´ ì•„ë˜ ë„êµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.
        </div>

        <div class="controls">
            <button class="btn-scissors" onclick="performPhysicalChange()">âœ‚ï¸ ê°€ìœ„ (ìë¥´ê¸°)</button>
            <button class="btn-burner" onclick="performChemicalChange()">ğŸ”¥ ë¶ˆ (ì—°ì†Œ)</button>
            <button class="btn-acid" onclick="addAcid()" id="btnAcid" disabled>ğŸ§ª ë¬½ì€ ì—¼ì‚° (ë°˜ì‘ í™•ì¸)</button>
            <button class="btn-reset" onclick="resetExperiment()">ğŸ”„ ì‹¤í—˜ ì´ˆê¸°í™”</button>
        </div>
    </div>

    <div class="info-panel">
        <h3>ğŸ“ ê´€ì°° ê¸°ë¡</h3>
        <table class="observation-table">
            <thead>
                <tr>
                    <th>êµ¬ë¶„</th>
                    <th>ê²‰ë³´ê¸° ì„±ì§ˆ (ìƒ‰ê¹”/ëª¨ì–‘)</th>
                    <th>ë¬½ì€ ì—¼ì‚°ê³¼ì˜ ë°˜ì‘</th>
                    <th>ë³€í™”ì˜ ì¢…ë¥˜</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>ì‹¤í—˜êµ° A (ìë¥¸ ë§ˆê·¸ë„¤ìŠ˜)</td>
                    <td id="obs-A-prop">-</td>
                    <td id="obs-A-acid">-</td>
                    <td id="obs-A-type">-</td>
                </tr>
                <tr>
                    <td>ì‹¤í—˜êµ° B (ì—°ì†Œ í›„ ë§ˆê·¸ë„¤ìŠ˜)</td>
                    <td id="obs-B-prop">-</td>
                    <td id="obs-B-acid">-</td>
                    <td id="obs-B-type">-</td>
                </tr>
            </tbody>
        </table>
        <p style="margin-top: 10px; font-size: 0.9rem; color: #666;">
            ğŸ’¡ íŒíŠ¸: ì—¼ì‚°ê³¼ ë°˜ì‘í•˜ì—¬ ê¸°í¬ê°€ ìƒê¸°ëŠ” ê²ƒì€ ë§ˆê·¸ë„¤ìŠ˜(Mg)ì˜ ì„±ì§ˆì…ë‹ˆë‹¤.
        </p>
    </div>

    <div class="quiz-section" id="quizSection">
        <h3>ğŸ§  ê°œë… í™•ì¸ í€´ì¦ˆ</h3>
        <p>Q. ë§ˆê·¸ë„¤ìŠ˜ì„ ì—°ì†Œì‹œì¼°ì„ ë•Œ ê¸°ì²´ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</p>
        <div style="margin: 10px 0;">
            <label><input type="radio" name="quiz1" value="wrong"> ë§ˆê·¸ë„¤ìŠ˜ì´ ì‚¬ë¼ì¡Œê¸° ë•Œë¬¸ì´ë‹¤.</label><br>
            <label><input type="radio" name="quiz1" value="correct"> ì„±ì§ˆì´ ë‹¤ë¥¸ ìƒˆë¡œìš´ ë¬¼ì§ˆ(ì‚°í™” ë§ˆê·¸ë„¤ìŠ˜)ë¡œ ë³€í–ˆê¸° ë•Œë¬¸ì´ë‹¤.</label><br>
            <label><input type="radio" name="quiz1" value="wrong"> ë§ˆê·¸ë„¤ìŠ˜ì´ ë‹¨ìˆœíˆ ëœ¨ê±°ì›Œì¡Œê¸° ë•Œë¬¸ì´ë‹¤.</label>
        </div>
        <button onclick="checkQuiz()">ì •ë‹µ í™•ì¸</button>
        <p id="quizFeedback" class="quiz-feedback"></p>
    </div>
</div>

<script>
    // ìƒíƒœ ë³€ìˆ˜
    let stateA = 'raw'; // raw, cut
    let stateB = 'raw'; // raw, burned
    let acidAdded = false;

    // DOM ìš”ì†Œ
    const sampleA = document.getElementById('sampleA');
    const sampleB = document.getElementById('sampleB');
    const msgBox = document.getElementById('statusMessage');
    const btnAcid = document.getElementById('btnAcid');
    const quizSection = document.getElementById('quizSection');

    // í…Œì´ë¸” ì…€
    const tableCells = {
        A_prop: document.getElementById('obs-A-prop'),
        A_acid: document.getElementById('obs-A-acid'),
        A_type: document.getElementById('obs-A-type'),
        B_prop: document.getElementById('obs-B-prop'),
        B_acid: document.getElementById('obs-B-acid'),
        B_type: document.getElementById('obs-B-type'),
    };

    // 1. ë¬¼ë¦¬ ë³€í™” (ìë¥´ê¸°)
    function performPhysicalChange() {
        if (acidAdded) return alert("ì´ë¯¸ ì—¼ì‚°ì„ ë„£ì—ˆìŠµë‹ˆë‹¤. ì´ˆê¸°í™” í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.");
        
        stateA = 'cut';
        sampleA.classList.add('cut');
        msgBox.innerHTML = "ê°€ìœ„ë¡œ ë§ˆê·¸ë„¤ìŠ˜ ë¦¬ë³¸ì„ ì˜ëìŠµë‹ˆë‹¤.<br>ëª¨ì–‘ì€ ë³€í–ˆì§€ë§Œ ì€ë°±ìƒ‰ ê´‘íƒì€ ê·¸ëŒ€ë¡œì…ë‹ˆë‹¤.";
        
        // ê¸°ë¡
        tableCells.A_prop.textContent = "ì€ë°±ìƒ‰, ì‘ì•„ì§";
        tableCells.A_type.textContent = "ë¬¼ë¦¬ ë³€í™”";
        
        checkReadyForAcid();
    }

    // 2. í™”í•™ ë³€í™” (ì—°ì†Œ)
    function performChemicalChange() {
        if (acidAdded) return alert("ì´ë¯¸ ì—¼ì‚°ì„ ë„£ì—ˆìŠµë‹ˆë‹¤. ì´ˆê¸°í™” í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.");

        msgBox.innerHTML = "âš ï¸ ì£¼ì˜: ë§ˆê·¸ë„¤ìŠ˜ ì—°ì†Œ ì‹œ ë°œìƒí•˜ëŠ” ê°•í•œ ë¹›ì„ ì§ì ‘ ë³´ì§€ ë§ˆì„¸ìš”.<br>ê°€ì—´ ì¤‘...";
        
        // ì—°ì†Œ ì• ë‹ˆë©”ì´ì…˜
        sampleB.classList.add('burning-anim');
        
        setTimeout(() => {
            stateB = 'burned';
            sampleB.classList.remove('burning-anim');
            sampleB.classList.add('burned');
            sampleB.title = "ì‚°í™” ë§ˆê·¸ë„¤ìŠ˜ (í°ìƒ‰ ê°€ë£¨)";
            
            msgBox.innerHTML = "ì—°ì†Œê°€ ëë‚¬ìŠµë‹ˆë‹¤. ì€ë°±ìƒ‰ ë¦¬ë³¸ì´ <strong>í°ìƒ‰ ê°€ë£¨(ì‚°í™” ë§ˆê·¸ë„¤ìŠ˜)</strong>ë¡œ ë³€í–ˆìŠµë‹ˆë‹¤.<br>í™”í•™ ë°˜ì‘ì‹: 2Mg + Oâ‚‚ â†’ 2MgO";

            // ê¸°ë¡
            tableCells.B_prop.textContent = "í°ìƒ‰ ê°€ë£¨, ë¶€ì„œì§";
            tableCells.B_type.textContent = "í™”í•™ ë³€í™”";
            
            checkReadyForAcid();
        }, 1500);
    }

    // ì—¼ì‚° ë²„íŠ¼ í™œì„±í™” ì²´í¬
    function checkReadyForAcid() {
        if (stateA === 'cut' && stateB === 'burned') {
            btnAcid.disabled = false;
            btnAcid.style.animation = "pulse 1s infinite";
        }
    }

    // 3. ì—¼ì‚° ë°˜ì‘ í…ŒìŠ¤íŠ¸
    function addAcid() {
        acidAdded = true;
        btnAcid.disabled = true;
        btnAcid.style.animation = "none";
        msgBox.innerHTML = "ë‘ ë¬¼ì§ˆì— ë¬½ì€ ì—¼ì‚°ì„ ë–¨ì–´ëœ¨ë¦½ë‹ˆë‹¤...";

        // A ë°˜ì‘ (ê¸°í¬ ë°œìƒ)
        createBubbles(sampleA, true);
        document.getElementById('reactionA').textContent = "ê¸°í¬ ë°œìƒ (ìˆ˜ì†Œ ê¸°ì²´)";
        tableCells.A_acid.textContent = "ë°˜ì‘í•¨ (ê¸°ì²´ ë°œìƒ)";

        // B ë°˜ì‘ (ë°˜ì‘ ì—†ìŒ)
        createBubbles(sampleB, false); // ì‹œê°ì  íš¨ê³¼ë§Œ ì‚´ì§ ì£¼ê³  ê¸°í¬ X
        document.getElementById('reactionB').textContent = "ë°˜ì‘ ì—†ìŒ";
        tableCells.B_acid.textContent = "ë°˜ì‘í•˜ì§€ ì•ŠìŒ";

        setTimeout(() => {
            msgBox.innerHTML = "ê²°ê³¼ í™•ì¸: <br><strong>ìë¥¸ ë§ˆê·¸ë„¤ìŠ˜</strong>ì€ ì—¬ì „íˆ ë§ˆê·¸ë„¤ìŠ˜ ì„±ì§ˆì„ ê°€ì ¸ ì‚°ê³¼ ë°˜ì‘í•˜ì§€ë§Œ,<br><strong>ì—°ì†Œëœ ë§ˆê·¸ë„¤ìŠ˜</strong>ì€ ì„±ì§ˆì´ ë³€í•´ ì‚°ê³¼ ë°˜ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
            quizSection.style.display = "block"; // í€´ì¦ˆ ë³´ì´ê¸°
        }, 2000);
    }

    // ê¸°í¬ ì• ë‹ˆë©”ì´ì…˜ ìƒì„± í•¨ìˆ˜
    function createBubbles(element, isActive) {
        if (!isActive) return;

        const count = 15;
        for (let i = 0; i < count; i++) {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            
            // ëœë¤ ìœ„ì¹˜ ë° ì†ë„
            const left = Math.random() * 50 + 20; // ìš”ì†Œ ì¤‘ì•™ ê·¼ì²˜
            const delay = Math.random() * 2;
            
            bubble.style.left = left + '%';
            bubble.style.top = '50%';
            bubble.style.animation = `bubbles 1.5s ease-in ${delay}s infinite`;
            
            element.appendChild(bubble);
        }
    }

    // ì‹¤í—˜ ì´ˆê¸°í™”
    function resetExperiment() {
        stateA = 'raw';
        stateB = 'raw';
        acidAdded = false;

        sampleA.classList.remove('cut');
        sampleA.innerHTML = ''; // ê¸°í¬ ì œê±°
        
        sampleB.classList.remove('burned', 'burning-anim');
        sampleB.innerHTML = '';
        sampleB.title = "ë§ˆê·¸ë„¤ìŠ˜ ë¦¬ë³¸";

        document.getElementById('reactionA').textContent = "";
        document.getElementById('reactionB').textContent = "";

        msgBox.textContent = "ì‹¤í—˜ì„ ì‹œì‘í•˜ë ¤ë©´ ì•„ë˜ ë„êµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.";
        
        // í…Œì´ë¸” ì´ˆê¸°í™”
        for (let key in tableCells) {
            tableCells[key].textContent = "-";
        }

        btnAcid.disabled = true;
        quizSection.style.display = "none";
        document.getElementById('quizFeedback').textContent = "";
        
        // ë¼ë””ì˜¤ ë²„íŠ¼ ì´ˆê¸°í™”
        const radios = document.getElementsByName('quiz1');
        for(let r of radios) r.checked = false;
    }

    // í€´ì¦ˆ í™•ì¸
    function checkQuiz() {
        const radios = document.getElementsByName('quiz1');
        let val = null;
        for (const radio of radios) {
            if (radio.checked) val = radio.value;
        }

        const feedback = document.getElementById('quizFeedback');
        if (val === 'correct') {
            feedback.style.color = "var(--success-color)";
            feedback.innerHTML = "âœ… ì •ë‹µì…ë‹ˆë‹¤! <br>í™”í•™ ë³€í™”ëŠ” ë¬¼ì§ˆì˜ ì›ì ë°°ì—´ì´ ë°”ë€Œì–´ ë³¸ë˜ì˜ ì„±ì§ˆì„ ìƒê³  ìƒˆë¡œìš´ ì„±ì§ˆì„ ê°€ì§„ ë¬¼ì§ˆì´ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.";
        } else if (val === 'wrong') {
            feedback.style.color = "var(--danger-color)";
            feedback.innerHTML = "âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”. <br>ë§ˆê·¸ë„¤ìŠ˜ ì›ìê°€ ì‚¬ë¼ì§„ ê²ƒì´ ì•„ë‹ˆë¼, ì‚°ì†Œì™€ ê²°í•©í•˜ì—¬ 'ì‚°í™” ë§ˆê·¸ë„¤ìŠ˜'ì´ë¼ëŠ” ìƒˆë¡œìš´ í™”í•©ë¬¼ì´ ëœ ê²ƒì…ë‹ˆë‹¤.";
        } else {
            feedback.textContent = "ë‹µì„ ì„ íƒí•´ì£¼ì„¸ìš”.";
        }
    }
</script>

</body>
</html>